<div class="page" color="primary">
    <div class="background-wrapper"></div>
    <div class="wrapper">
        <app-logo class="outer-logo noselect" routerLink="/"></app-logo>

        <div class="centered-container shadow"  >
            <div class="message" [style.left] = 'sliderLeft'>
                <div class="message-header">
                    <app-logo class="inner-logo noselect" routerLink="/"></app-logo>
                </div>
                <div class="message-body">
                    <h2>{{sliderLeft=='50%' ? 'Create a doctor account' : 'Log in with doctor account'}}</h2>

                    <button mat-button routerLink="/">Go to main page</button>
                    
                </div>
            </div>
            <div class="register" *ngIf="!mobileView || (mobileView && sliderLeft=='50%')">
                <div class="text">
                    <img src="../../../assets/register-img.png" alt="">
                    <span>Sign up</span>
                </div>
                <div class="content">
                    <form class="auth-form" [formGroup]="registerForm" (ngSubmit)="onGDPRConsentDialog()">
                        <mat-form-field appearance="legacy" class="email-input">
                            <input matInput placeholder="E-mail" formControlName="email" type="email" class="form-control" required>
                            <mat-icon matSuffix color="primary">email</mat-icon>
                            <mat-error *ngIf="registerForm.hasError('required', 'password') && registerForm.controls.password">
                                Please enter a valid email address
                            </mat-error>
                        </mat-form-field>
  
                        <mat-form-field appearance="legacy" class="password-input">
                            <input matInput placeholder="Password" formControlName="password" type="password" class="form-control" required>
                            <mat-icon matSuffix color="primary">lock</mat-icon>
                            <mat-error *ngIf="registerForm.hasError('required', 'password'); else lengthError">
                                Password is required
                            </mat-error>
                            <ng-template #lengthError>
                                <mat-error>Minimum 6 characters required.</mat-error>
                            </ng-template>
                        </mat-form-field>
                        <mat-form-field appearance="legacy" class="password-input">
                            <input matInput placeholder="Confirm password" formControlName="confirmPassword" type="password" class="form-control"  [errorStateMatcher]="matcher" required>
                            <mat-icon matSuffix color="primary">security</mat-icon>
                            <mat-error *ngIf="registerForm.hasError('required', 'confirmPassword') && regF.confirmPassword.touched; else mismatchError">Password confirmation is required.</mat-error>
                            <ng-template #mismatchError>
                                <mat-error *ngIf="registerForm.hasError('notSame') && regF.confirmPassword.touched">
                                    Password should be the same as above.
                                </mat-error>
                            </ng-template>
                        </mat-form-field>
                        <button mat-raised-button color="primary" type="submit" [disabled]="registerForm.invalid">
                            <span [ngClass]="registerForm.invalid == true ? 'disabled-login' : 'enabled-login'">Sign up</span>
                        </button>
                    </form>
                    <div>Have already an account? <span (click)="signSlide()">Sign in</span></div>
                </div>
            </div>
            <div class="login" *ngIf="!mobileView || (mobileView && sliderLeft=='0%')">
                <div class="text">
                    <img src="../../../assets/login-img.png" alt="">
                    <span>Sign in</span>
                </div>
                <br>
                <div class="content">
                    <form class="auth-form"  [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
                        <mat-form-field appearance="legacy" class="email-input">
                            <input matInput placeholder="E-mail" formControlName="email" type="email" class="form-control">
                            <mat-icon matSuffix color="primary">email</mat-icon>
                            <mat-error *ngIf="loginForm.controls['email'].errors?.required && loginForm.controls['email'].touched">
                                Please enter a valid email address
                            </mat-error>
                        </mat-form-field>
  
                        <mat-form-field appearance="legacy" class="password-input">
                            <input matInput placeholder="Password" formControlName="password" type="password" class="form-control">
                            <mat-icon matSuffix color="primary">lock</mat-icon>
                            <mat-error *ngIf="loginForm.hasError('required', 'password'); else lengthError">
                                Password is required
                            </mat-error>
                            <ng-template #lengthError>
                                <mat-error>Minimum 6 characters required.</mat-error>
                            </ng-template>
                        </mat-form-field>
                        <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid">
                            <span [ngClass]="loginForm.invalid == true ? 'disabled-login' : 'enabled-login'">Sign in</span>
                        </button>
                    </form>
                    <div>You don`t have an account? <span (click)="signSlide()">Sign up now</span></div>
                </div>
            </div>
        </div>
        <button *ngIf="mobileView" mat-button routerLink="/" class="go-to-main-page-button">
            <span>Go to main page</span>
            <mat-icon matSuffix>arrow_forward</mat-icon>
        </button>
    </div>
    <div class="doc-image noselect">
        <img src="../../../assets/med-background.png" alt="">
    </div>
</div>
